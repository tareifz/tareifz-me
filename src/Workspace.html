<div class="workspace">
    {#each windows as window}
    <Window bind:top=window.top
            bind:left=window.left
            bind:width=window.width
            bind:height=window.height
            bind:zIndex=window.zIndex
            bind:title=window.title
            bind:close=window.close
            bind:minimize=window.minimize
            bind:maximize=window.maximize
            on:activate="activate(event.node)"></Window>
    {/each}
</div>

<script>
 export default {
     components: {
         Window: './Window.html',
     },
     data() {
         return {
             name: 'default',
             windows: [
                 {
                     top: 0,
                     left: 0,
                     width: 400,
                     height: 300,
                     zIndex: 1,
                     title: 'about',
                     close: true,
                     minimize: true,
                     maximize: true,
                     windowBarBackgroundColor: 'white',
                     windowContentBackgroundColor: '#eeeeee',
                 },
             ],
         };
     },
     methods: {
         activate(node) {
             let {
                 windows,
             } = this.get();

             windows.forEach(window => {
                 window.zIndex = 1;
             });

             this.set({ windows });
             node.set({
                 zIndex: 2,
             });

         },
     },
 }
</script>

<style>
 .workspace {
     width: 100%;
     height: 100%;
     position: relative;
 }
 </style>
